{% extends 'szablon.html' %}

{% block produkt %}

{% if kategoria_ksiazki %}
<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <title>Biblioteka</title>
    {% load static %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'kat.css'%}">
    <link rel="shortcut icon" href="/media/images/book1.png">
</head>

<body>
    <div class="row ">
        {% for produkt in kategoria_ksiazki %}

        <div class="col-lg-4 " >
            <a href="/produkt/{{ produkt.id }}/" class="">
                <img src="{{ produkt.image_url_l }}" width="300" height="500" alt="/media/images/ERAGON.png" class="katramka bg">
            </a>
            <div class="box-element product">
                <p><a href="/produkt/{{ produkt.id }}/">{{ produkt.book_title}}</a></p>
            </div>
        </div>
        {% endfor %}

        <div class="pagination justify-content-center mt-4">
            <span class="step-links">
                {% if kategoria_ksiazki.has_previous %}
                    <a href="?page=1" class="btn btn-sm btn-primary">&laquo; pierwsza</a>
                    <a href="?page={{ kategoria_ksiazki.previous_page_number }}" class="btn btn-sm btn-primary">poprzednia</a>
                {% endif %}

                <span class="current mx-2">
                    Strona {{ kategoria_ksiazki.number }} z {{ kategoria_ksiazki.paginator.num_pages }}.
                </span>

                {% for i in kategoria_ksiazki.paginator.page_range %}
                    {% if i > kategoria_ksiazki.number|add:"-5" and i < kategoria_ksiazki.number|add:"5" %}
                        {% if kategoria_ksiazki.number == i %}
                            <span class="btn btn-sm btn-primary mx-1">{{ i }}</span>
                        {% else %}
                            <a href="?page={{ i }}" class="btn btn-sm btn-outline-primary mx-1">{{ i }}</a>
                        {% endif %}
                    {% endif %}
                {% endfor %}

                {% if kategoria_ksiazki.has_next %}
                    <a href="?page={{ kategoria_ksiazki.next_page_number }}" class="btn btn-sm btn-primary">nastÄ™pna</a>
                    <a href="?page={{ kategoria_ksiazki.paginator.num_pages }}" class="btn btn-sm btn-primary">ostatnia &raquo;</a>
                {% endif %}
            </span>
        </div>

        {% else %}
        {% endif %}
    </div>
</body>

</html>

{% endblock produkt %}